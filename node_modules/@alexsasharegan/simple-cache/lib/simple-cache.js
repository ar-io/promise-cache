"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("./core");
/**
 * SimpleCache follows the Cache interface to store values `V` by key `K`.
 *
 * This cache allows writes up to capacity, beyond which least accessed values
 * will be removed.
 */
function SimpleCache(capacity, typeLabel = { key: "any", value: "any" }) {
    const { clear, entries, get, invalidate, keys, read, remove, size, values, write, } = core_1.CoreCache(capacity);
    const cache = {
        clear,
        entries,
        get,
        invalidate,
        keys,
        read,
        remove,
        size,
        values,
        write,
        toString() {
            return `${SimpleCache.name /* makes name refactoring simpler */}<${typeLabel.key}, ${typeLabel.value}> { size: ${size()}, capacity: ${capacity} }`;
        },
        toJSON() {
            return entries();
        },
    };
    return cache;
}
exports.SimpleCache = SimpleCache;
//# sourceMappingURL=simple-cache.js.map